"use strict";import{jsx as b}from"react/jsx-runtime";import{forwardRef as E,useImperativeHandle as N,useRef as U,useMemo as m,useCallback as r}from"react";import g from"../../common/hook/useRipple";import{initSize as j,initVariant as x}from"../../common/util/variation";const y=E(({...k},h)=>{const{children:c,id:v,className:a,style:f,onClick:n,label:u,disabled:t,variant:d,size:p,color:s,fontColor:i}={...k};if(u&&c)throw Error("Error: label and children attributes cannot be duplicated.");const l=U(null),e=g(l);N(h,()=>({focus(){l.current?.focus()},click(){t||n?.()}}));const w=m(()=>{const o=[];return a&&o.push(a),t&&o.push("k-button--disabled"),x(o,"k-button",d),j(o,"k-button",p),o.join(" ")},[a,t,d,p]),M=m(()=>{const o={...f};return s&&(o.borderColor=s,o.backgroundColor=s,i||(o.color="#fff")),i&&(o.color=i),o},[f,s,i]),C=r(o=>{t||e?.register(o)},[e]),K=r(o=>{e.remove(),t||n?.(o)},[e,t,n]),R=r(()=>{if(!l?.current)throw Error("Invalid rootRef.");e.remove()},[e]),z=r(o=>{e?.register(o)},[e]),D=r(o=>{(o.key==="Enter"||o.key===" ")&&(e.remove(),n?.())},[e,n]);return b("button",{ref:l,id:v,className:`k-button ${w}`,style:M,type:"button",disabled:t,onMouseDown:C,onMouseLeave:R,onMouseUp:K,onKeyDown:z,onKeyUp:D,children:(c||u)&&b("span",{className:"k-button__content",children:c||u})})});y.displayName="KButton";export default y;
